# (Experimental) Atlas Map Viewer
![Alt text](Example1.jpg?raw=true "Exmaple1")
Used as an example to read ship and bed positions from Redis overlayed on top of a world and territory map.  It consists of two pieces, a go web service that retrieves and serves the ship and bed positions and a simple [React](https://reactjs.org/) / [Leaflet.js](https://leafletjs.com/) app.

The slippy map tiles for the world are generated by [ServerGridEditor](https://github.com/GrapeshotGames/ServerGridEditor) and should be placed in the "www/tiles" directory.

## Go Dependencies:
* go get github.com/go-redis/redis

## Setup
### Web Service
Setup the config.json to point at your redis database and a few other things like the following should be configured:
```
|Param|Value|Description|
|:----|:----|:----------|
Host | "" | Can be left blank but usually just ip of hosting machine in simple case |
Port | 8880 | Port to host the web service |
StaticDir | "./www" | Relative path to the static web files |
TerritoryURL | "http://localhost:8881/territoryTiles/" | Optional link to territory server |
FetchRateInSeconds | 30 | Frequency entities are polled from Redis |
DisableCommands | true | Disable ability to send admin commands to game servers |
RedisAddress |  "localhost:6379" | Redis connect string |
RedisPassword | "foobared" | Redis password |
```

### Web App
The client file "www/config.js" holds some cluster specific information like the grid size.
```
|Param|Value|Description|
|:----|:----|:----------|
ServersX | 15 | Number of columns in the grid |
ServersY | 15 | Number of rows in the grid |
Suggestions | array of strings | Command completion suggestions |
```

Note: The config.json stays relative to binary path.
